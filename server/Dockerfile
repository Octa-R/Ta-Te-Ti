# Etapa de construcci贸n
FROM node:18.16.1-alpine AS builder

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

RUN npm run build

# # Etapa de producci贸n
# FROM node:18.16.1-alpine

# WORKDIR /app

# # Copia solo los archivos necesarios de la etapa de construcci贸n
# COPY --from=builder /app/dist ./dist

# Exponer el puerto si es necesario
EXPOSE 3000

# Comando de inicio de la aplicaci贸n
CMD ["node", "./dist/main"]

